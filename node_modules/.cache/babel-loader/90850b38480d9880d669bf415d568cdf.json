{"ast":null,"code":"function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { cloneElement, createElement, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Switch, matchPath, useLocation } from 'react-router-dom';\nimport TransitionMotion from 'react-motion/lib/TransitionMotion';\nimport spring from 'react-motion/lib/spring'; // Helpers\n\nfunction ensureSpring(styles) {\n  var obj = {};\n\n  for (var key in styles) {\n    var value = styles[key];\n\n    if (typeof value === 'number') {\n      obj[key] = spring(value);\n    } else {\n      obj[key] = value;\n    }\n  }\n\n  return obj;\n}\n\nfunction identity(v) {\n  return v;\n}\n\nfunction noop() {} // Components\n\n\nfunction RouteTransition(_ref) {\n  var children = _ref.children,\n      className = _ref.className,\n      atEnter = _ref.atEnter,\n      atActive = _ref.atActive,\n      atLeave = _ref.atLeave,\n      _ref$wrapperComponent = _ref.wrapperComponent,\n      wrapperComponent = _ref$wrapperComponent === void 0 ? 'div' : _ref$wrapperComponent,\n      _ref$didLeave = _ref.didLeave,\n      didLeave = _ref$didLeave === void 0 ? noop : _ref$didLeave,\n      _ref$mapStyles = _ref.mapStyles,\n      mapStyles = _ref$mapStyles === void 0 ? identity : _ref$mapStyles,\n      _ref$runOnMount = _ref.runOnMount,\n      runOnMount = _ref$runOnMount === void 0 ? false : _ref$runOnMount;\n  var defaultStyles = runOnMount === false ? null : children == undefined ? [] : [{\n    key: children.key,\n    data: children,\n    style: atEnter\n  }];\n  var styles = children == undefined ? [] : [{\n    key: children.key,\n    data: children,\n    style: ensureSpring(atActive)\n  }];\n  return React.createElement(TransitionMotion, {\n    defaultStyles: defaultStyles,\n    styles: styles,\n    willEnter: function willEnter() {\n      return atEnter;\n    },\n    willLeave: function willLeave() {\n      return ensureSpring(atLeave);\n    },\n    didLeave: didLeave\n  }, function (interpolatedStyles) {\n    return React.createElement(\"div\", {\n      className: className\n    }, interpolatedStyles.map(function (config) {\n      var props = {\n        style: mapStyles(config.style),\n        key: config.key\n      };\n      return wrapperComponent !== false ? createElement(wrapperComponent, props, config.data) : cloneElement(config.data, props);\n    }));\n  });\n}\n\nRouteTransition.propTypes = {\n  className: PropTypes.string,\n  wrapperComponent: PropTypes.oneOfType([PropTypes.bool, PropTypes.element, PropTypes.string, PropTypes.func]),\n  atEnter: PropTypes.object.isRequired,\n  atActive: PropTypes.object.isRequired,\n  atLeave: PropTypes.object.isRequired,\n  didLeave: PropTypes.func,\n  mapStyles: PropTypes.func,\n  runOnMount: PropTypes.bool\n}; // AnimatedRoute\n// The key-getter for RouteTransition. It's either on or off.\n\nfunction getKey(_ref2, path, exact) {\n  var pathname = _ref2.pathname;\n  return matchPath(pathname, {\n    exact: exact,\n    path: path\n  }) ? 'match' : 'no-match';\n}\n\nfunction AnimatedRoute(_ref3) {\n  var render = _ref3.render,\n      component = _ref3.component,\n      path = _ref3.path,\n      exact = _ref3.exact,\n      routeTransitionProps = _objectWithoutProperties(_ref3, [\"render\", \"component\", \"path\", \"exact\"]);\n\n  var location = useLocation();\n  return React.createElement(RouteTransition, routeTransitionProps, React.createElement(Route, {\n    key: getKey(location, path, exact),\n    path: path,\n    exact: exact,\n    location: location,\n    component: component,\n    render: render\n  }));\n} // AnimatedSwitch\n\n\nvar NO_MATCH = {\n  key: 'no-match'\n}; // Not every location object has a `key` property (e.g. HashHistory).\n\nfunction getLocationKey(location) {\n  return typeof location.key === 'string' ? location.key : '';\n} // Some superfluous work, but something we need to do in order\n// to persist matches/allow for nesting/etc.\n\n\nfunction getMatchedRoute(children, _ref4) {\n  var pathname = _ref4.pathname;\n  var childrenArray = React.Children.toArray(children);\n\n  for (var i = 0; i < childrenArray.length; i++) {\n    var child = childrenArray[i];\n    var matches = matchPath(pathname, {\n      exact: child.props.exact,\n      path: child.props.path\n    });\n\n    if (matches) {\n      return child;\n    }\n  }\n\n  return NO_MATCH;\n}\n\nvar counter = 0;\n\nfunction AnimatedSwitch(_ref5) {\n  var children = _ref5.children,\n      routeTransitionProps = _objectWithoutProperties(_ref5, [\"children\"]);\n\n  var location = useLocation();\n  var match = useRef(null);\n  var key = useRef(null);\n  var nextMatch = getMatchedRoute(children, location);\n\n  if (match.current === null) {\n    // Persist a reference to the most recent match\n    match.current = nextMatch;\n    key.current = getLocationKey(location);\n  } else if (match.current.key !== nextMatch.key) {\n    // Update the key given to Switch anytime the matched route changes\n    match.current = nextMatch;\n    key.current = getLocationKey(location) + ++counter;\n  }\n\n  return React.createElement(RouteTransition, routeTransitionProps, React.createElement(Switch, {\n    key: key.current,\n    location: location\n  }, children));\n}\n\nexport { ensureSpring, spring, RouteTransition, AnimatedRoute, AnimatedSwitch };","map":{"version":3,"sources":["/Users/aoliu/Documents/Project/node_modules/react-router-transition/lib/index.js"],"names":["_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","key","i","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call","sourceKeys","keys","React","cloneElement","createElement","useEffect","useRef","useState","PropTypes","Route","Switch","matchPath","useLocation","TransitionMotion","spring","ensureSpring","styles","obj","value","identity","v","noop","RouteTransition","_ref","children","className","atEnter","atActive","atLeave","_ref$wrapperComponent","wrapperComponent","_ref$didLeave","didLeave","_ref$mapStyles","mapStyles","_ref$runOnMount","runOnMount","defaultStyles","undefined","data","style","willEnter","willLeave","interpolatedStyles","map","config","props","propTypes","string","oneOfType","bool","element","func","object","isRequired","getKey","_ref2","path","exact","pathname","AnimatedRoute","_ref3","render","component","routeTransitionProps","location","NO_MATCH","getLocationKey","getMatchedRoute","_ref4","childrenArray","Children","toArray","child","matches","counter","AnimatedSwitch","_ref5","match","nextMatch","current"],"mappings":"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","sourcesContent":["function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { cloneElement, createElement, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Switch, matchPath, useLocation } from 'react-router-dom';\nimport TransitionMotion from 'react-motion/lib/TransitionMotion';\nimport spring from 'react-motion/lib/spring'; // Helpers\n\nfunction ensureSpring(styles) {\n  var obj = {};\n\n  for (var key in styles) {\n    var value = styles[key];\n\n    if (typeof value === 'number') {\n      obj[key] = spring(value);\n    } else {\n      obj[key] = value;\n    }\n  }\n\n  return obj;\n}\n\nfunction identity(v) {\n  return v;\n}\n\nfunction noop() {} // Components\n\n\nfunction RouteTransition(_ref) {\n  var children = _ref.children,\n      className = _ref.className,\n      atEnter = _ref.atEnter,\n      atActive = _ref.atActive,\n      atLeave = _ref.atLeave,\n      _ref$wrapperComponent = _ref.wrapperComponent,\n      wrapperComponent = _ref$wrapperComponent === void 0 ? 'div' : _ref$wrapperComponent,\n      _ref$didLeave = _ref.didLeave,\n      didLeave = _ref$didLeave === void 0 ? noop : _ref$didLeave,\n      _ref$mapStyles = _ref.mapStyles,\n      mapStyles = _ref$mapStyles === void 0 ? identity : _ref$mapStyles,\n      _ref$runOnMount = _ref.runOnMount,\n      runOnMount = _ref$runOnMount === void 0 ? false : _ref$runOnMount;\n  var defaultStyles = runOnMount === false ? null : children == undefined ? [] : [{\n    key: children.key,\n    data: children,\n    style: atEnter\n  }];\n  var styles = children == undefined ? [] : [{\n    key: children.key,\n    data: children,\n    style: ensureSpring(atActive)\n  }];\n  return React.createElement(TransitionMotion, {\n    defaultStyles: defaultStyles,\n    styles: styles,\n    willEnter: function willEnter() {\n      return atEnter;\n    },\n    willLeave: function willLeave() {\n      return ensureSpring(atLeave);\n    },\n    didLeave: didLeave\n  }, function (interpolatedStyles) {\n    return React.createElement(\"div\", {\n      className: className\n    }, interpolatedStyles.map(function (config) {\n      var props = {\n        style: mapStyles(config.style),\n        key: config.key\n      };\n      return wrapperComponent !== false ? createElement(wrapperComponent, props, config.data) : cloneElement(config.data, props);\n    }));\n  });\n}\n\nRouteTransition.propTypes = {\n  className: PropTypes.string,\n  wrapperComponent: PropTypes.oneOfType([PropTypes.bool, PropTypes.element, PropTypes.string, PropTypes.func]),\n  atEnter: PropTypes.object.isRequired,\n  atActive: PropTypes.object.isRequired,\n  atLeave: PropTypes.object.isRequired,\n  didLeave: PropTypes.func,\n  mapStyles: PropTypes.func,\n  runOnMount: PropTypes.bool\n}; // AnimatedRoute\n// The key-getter for RouteTransition. It's either on or off.\n\nfunction getKey(_ref2, path, exact) {\n  var pathname = _ref2.pathname;\n  return matchPath(pathname, {\n    exact: exact,\n    path: path\n  }) ? 'match' : 'no-match';\n}\n\nfunction AnimatedRoute(_ref3) {\n  var render = _ref3.render,\n      component = _ref3.component,\n      path = _ref3.path,\n      exact = _ref3.exact,\n      routeTransitionProps = _objectWithoutProperties(_ref3, [\"render\", \"component\", \"path\", \"exact\"]);\n\n  var location = useLocation();\n  return React.createElement(RouteTransition, routeTransitionProps, React.createElement(Route, {\n    key: getKey(location, path, exact),\n    path: path,\n    exact: exact,\n    location: location,\n    component: component,\n    render: render\n  }));\n} // AnimatedSwitch\n\n\nvar NO_MATCH = {\n  key: 'no-match'\n}; // Not every location object has a `key` property (e.g. HashHistory).\n\nfunction getLocationKey(location) {\n  return typeof location.key === 'string' ? location.key : '';\n} // Some superfluous work, but something we need to do in order\n// to persist matches/allow for nesting/etc.\n\n\nfunction getMatchedRoute(children, _ref4) {\n  var pathname = _ref4.pathname;\n  var childrenArray = React.Children.toArray(children);\n\n  for (var i = 0; i < childrenArray.length; i++) {\n    var child = childrenArray[i];\n    var matches = matchPath(pathname, {\n      exact: child.props.exact,\n      path: child.props.path\n    });\n\n    if (matches) {\n      return child;\n    }\n  }\n\n  return NO_MATCH;\n}\n\nvar counter = 0;\n\nfunction AnimatedSwitch(_ref5) {\n  var children = _ref5.children,\n      routeTransitionProps = _objectWithoutProperties(_ref5, [\"children\"]);\n\n  var location = useLocation();\n  var match = useRef(null);\n  var key = useRef(null);\n  var nextMatch = getMatchedRoute(children, location);\n\n  if (match.current === null) {\n    // Persist a reference to the most recent match\n    match.current = nextMatch;\n    key.current = getLocationKey(location);\n  } else if (match.current.key !== nextMatch.key) {\n    // Update the key given to Switch anytime the matched route changes\n    match.current = nextMatch;\n    key.current = getLocationKey(location) + ++counter;\n  }\n\n  return React.createElement(RouteTransition, routeTransitionProps, React.createElement(Switch, {\n    key: key.current,\n    location: location\n  }, children));\n}\n\nexport { ensureSpring, spring, RouteTransition, AnimatedRoute, AnimatedSwitch };"]},"metadata":{},"sourceType":"module"}